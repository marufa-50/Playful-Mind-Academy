:root{
  --bg: #fffdf8;
  --card: #ffffff;
  --soft: #f6f1e7;
  --text: #383838;
  --muted: #6f6f6f;
  --primary: #4c9aef;
  --green: #49c27b;
  --orange: #ff9f43;
  --pink: #ff7fb4;
  --purple: #9b78ff;
  --yellow: #ffd95a;
  --shadow: 0 12px 30px rgba(0,0,0,0.08);
  --radius: 18px;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif; }

.app-header{
  position: sticky; top: 0; z-index: 1000;
  display: grid; grid-template-columns: 120px 1fr auto;
  gap: 12px; align-items: center;
  padding: 12px 18px;
  background: linear-gradient(90deg,#fcf0cd,#e9ffd9,#e2f1ff);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}
.brand{
  display:flex; align-items:center; gap:10px; font-size:18px;
  justify-self: center; text-align:center; margin: 0 auto;
}
.brand .subtitle{ color: var(--muted); font-weight:500; }
.header-actions { display:flex; gap: 8px; }

.ribbon{
  display:flex; gap:10px; padding: 10px 18px; justify-content: center;
  background: linear-gradient(90deg,#f7ffe8,#fff9f2);
  position: sticky; top: 62px; z-index: 999;
  border-bottom: 1px solid rgba(0,0,0,0.06);
}
.chip{
  border: 1px dashed rgba(0,0,0,.15);
  background:#fff; padding:8px 14px; border-radius: 999px; cursor:pointer;
}
.chip.active{ background: #e9f5ff; border-color: #b6e1ff; color:#0b5fa4; }

.hero{
  display:grid; grid-template-columns: 280px 1fr 280px; gap: 18px;
  padding: 18px;
}
.kid-card{
  background: var(--soft);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow);
  display:flex; flex-direction: column; align-items:center; gap:8px;
  min-height: 220px;
}
.kid-card.left{ background: #ffe9f4; }
.kid-card.right{ background:#eaf3ff; }
.kid-avatar{ font-size: 64px; line-height: 1; filter: drop-shadow(0 8px 10px rgba(0,0,0,.1)); }
.kid-info { text-align: center; }
.kid-name{ font-size: 18px; font-weight: 700; }
.kid-streak{ color: #b86800; background: #fff3d6; padding:6px 10px; border-radius: 999px; display:inline-block; }

.hero-center{
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 18px;
  position: relative;
  overflow: hidden;
}
.hero-center:before{
  content:"ðŸŒ¼ ðŸŒ¼ ðŸŒ¼"; position:absolute; right: 12px; top: 12px; opacity:.2; font-size: 24px;
}
.hero-center h1{ margin: 0 0 8px; }
.hero-sub{ margin: 0 0 12px; color: var(--muted); }
.quota{ display:grid; grid-template-columns: 1fr auto; gap: 12px; align-items:center; }
.quota label{ display:block; font-weight:600; margin-bottom:6px; }
#dailyQuota{ width:100%; accent-color: var(--primary); }
.quota-stats{ display:flex; gap: 18px; align-items:center; }
#quotaRing{ border-radius: 12px; background: #f8fbff; }

.card-grid{ padding: 10px 18px 40px; display:grid; gap: 18px; }
.card{ background: var(--card); border-radius: var(--radius); box-shadow: var(--shadow); padding: 16px; }
.card-header{ display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px; }
.grid.two{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.grid.three{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; align-items:center; }
.grid.four{ display:grid; grid-template-columns: repeat(4,minmax(140px,1fr)); gap: 12px; }

.switch{ display:flex; align-items:center; gap: 8px; }
.switch input{ transform: scale(1.2); }

.session-controls .buttons{ display:flex; gap:8px; align-items:center; }
.timer-status{ margin-top: 10px; color: var(--muted); font-style: italic; }

.activity-card{
  border: 2px solid transparent; border-radius: 16px; padding: 12px;
  background: linear-gradient(180deg,#fff,#fffdf6);
  box-shadow: var(--shadow);
  display:flex; flex-direction: column; gap: 8px; align-items:flex-start;
}
.activity-card:hover{ border-color: rgba(0,0,0,.08); transform: translateY(-1px); transition: .2s ease; }
.activity-emoji{ font-size: 34px; }
.activity-name{ font-weight: 700; }
.activity-min{ color: var(--muted); font-size: 13px; }
.activity-actions{ display:flex; gap:6px; flex-wrap: wrap; }

.btn{
  background: var(--primary); color: #fff; border:none; border-radius: 999px;
  padding: 8px 14px; cursor: pointer; box-shadow: 0 6px 14px rgba(76,154,239,.25);
}
.btn:hover{ filter: brightness(1.08); }
.btn.small{ padding:6px 10px; font-size: 12px; }
.btn.tiny{ padding:4px 8px; font-size: 11px; }
.btn.subtle{ background: #e8f2ff; color: #0b5fa4; box-shadow:none; }
.btn.outline{ background: #fff; color: #0b5fa4; border: 1px solid #b6e1ff; box-shadow:none; }
.btn.ghost{ background: transparent; color: #0b5fa4; border: 1px dashed #b6e1ff; box-shadow:none; }
.btn.primary{ background: var(--green); }

.log-table-wrap{ overflow:auto; border:1px solid rgba(0,0,0,.06); border-radius: 10px; }
.log-table{ width:100%; border-collapse: collapse; }
.log-table th, .log-table td{ padding: 10px; border-bottom: 1px solid rgba(0,0,0,.06); text-align:left; }
.log-table thead th{ background:#f7fbff; }

.footer{ text-align:center; padding: 12px; color: var(--muted); }

/* Modal */
.modal{ position: fixed; inset: 0; background: rgba(0,0,0,.2); backdrop-filter: blur(2px); display: none; align-items: center; justify-content: center; padding: 20px; }
.modal.show{ display:flex; }
.modal-content{ background:#fff; width: min(880px, 96vw); border-radius: 16px; box-shadow: var(--shadow); }
.modal-header{ padding: 14px 16px; border-bottom: 1px solid rgba(0,0,0,.06); }
.modal-body{ padding: 14px 16px; }
.modal-footer{ padding: 14px 16px; display:flex; gap:8px; justify-content:flex-end; border-top: 1px solid rgba(0,0,0,.06); }

.guidelines{ margin: 0; padding-left: 18px; }

.toast{
  position: fixed; bottom: 18px; right: 18px; background:#333; color:#fff; padding: 10px 14px; border-radius: 10px; opacity: 0; transform: translateY(10px); transition: .25s;
}
.toast.show{ opacity: 1; transform: translateY(0); }

/* Responsive */
@media (max-width: 1000px){
  .hero{ grid-template-columns: 1fr; }
  .kid-card{ order: 2; }
  .hero-center{ order: 1; }
  .grid.four{ grid-template-columns: repeat(2,minmax(140px,1fr)); }
}
@media (max-width: 560px){
  .grid.two{ grid-template-columns: 1fr; }
  .grid.three{ grid-template-columns: 1fr; }
  .grid.four{ grid-template-columns: 1fr; }
}